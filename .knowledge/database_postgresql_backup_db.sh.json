{"is_source_file": true, "format": "bash", "description": "A comprehensive shell script for detecting and backing up different types of databases (SQLite, PostgreSQL, MySQL, MongoDB). It performs checks for each database system and executes the appropriate backup commands, saving the backups to specific files.", "external_files": ["/usr/lib/postgresql/", "/usr/lib/postgresql/*/bin", "/var/run/mysqld/mysqld.sock"], "external_methods": ["ls", "cp", "sudo", "pg_isready", "pg_dump", "mysqladmin", "mysql", "mysqldump", "mongosh", "mongodump"], "published": [], "classes": [], "methods": [], "calls": ["ls /usr/lib/postgresql/", "cp \"${DB_NAME}\" \"database_backup.db\"", "sudo -u postgres ${PG_BIN}/pg_isready -p ${DB_PORT}", "${PG_BIN}/pg_dump -h localhost -p ${DB_PORT} -U ${DB_USER} -d ${DB_NAME} --clean --if-exists --create", "mysqladmin ping -h localhost -P ${DB_PORT} --silent", "sudo mysqladmin ping --socket=/var/run/mysqld/mysqld.sock --silent", "mysql -h localhost -P ${DB_PORT} -u ${DB_USER} -p${DB_PASSWORD} -e \"SELECT 1\"", "mysqldump -h localhost -P ${DB_PORT} -u ${DB_USER} -p${DB_PASSWORD} --databases ${DB_NAME} --add-drop-database --routines --triggers --single-transaction", "sudo mysqldump --socket=/var/run/mysqld/mysqld.sock -u root -p${DB_PASSWORD} --databases ${DB_NAME} --add-drop-database --routines --triggers --single-transaction", "mongosh --port ${DB_PORT} --eval \"db.adminCommand('ping')\"", "mongodump --port ${DB_PORT} --db ${DB_NAME} --archive=database_backup.archive --quiet"], "search-terms": ["backup_db.sh", "shell script", "database backup", "PostgreSQL check", "MySQL fallback", "MongoDB backup", "SQLite check"], "state": 2, "file_id": 1, "knowledge_revision": 13, "git_revision": "83371e4fef8f2175b066bb533c86832335b6a831", "hash": "7af9aa35fa4940f934d83f6e2621b732", "format-version": 4, "code-base-name": "database_postgresql", "filename": "database_postgresql/backup_db.sh", "revision_history": [{"13": "83371e4fef8f2175b066bb533c86832335b6a831"}]}